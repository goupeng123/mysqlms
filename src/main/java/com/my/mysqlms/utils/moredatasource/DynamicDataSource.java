package com.my.mysqlms.utils.moredatasource;

import org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;

/**
 * 要实现mysql读写分离，就需要在请求到controller之后进入service之前，使用AOP来做出判断，是使用写库还是读库，只读走读库，读写走写库
 * @author hello
 *
 */

public class DynamicDataSource extends AbstractRoutingDataSource{

	
	@Override
	protected Object determineCurrentLookupKey() {
		// TODO Auto-generated method stub
	    String url = DynamicDataSourceHolder.getDataSourceKey();
	    System.out.println(url+"?????????????????????????????????????????????????????????????????????????????????????");
		return url;
	}

}
